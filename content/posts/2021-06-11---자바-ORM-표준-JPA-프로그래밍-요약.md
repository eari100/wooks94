---
title: "자바 ORM 표준 JPA 프로그래밍 요약"
date: "2021-06-11"
template: "post"
draft: false
slug: "자바-ORM-표준-JPA-프로그래밍-요약"
category: "JPA"
tags:
  - "#JPA"
description: ""
---

지연로딩 : 실제 객체를 사용하는 시점에 데이터베이스를 조회하는 기능입니다. JPA는 지연로딩 시 코드를 따로 작성하지 않고 **투명**하게 처리합니다.

```Java
// 투명한 엔티티
class Member {
    private Order order;

    public Order getOrder() {
        return order;
    }
}
```
```Java
Member member = jpa.find(Member.class, memberId);

Order order = member.getOrder();
order.getOrderDate(); // Order를 사용하는 시점에 지연로딩
```

### JPA와 비교

**JPA는 같은 트랙잭션일 때 같은 객체가 조회되는 것을 보장합니다.**  
그러므로 다음 코드는 동일성 비교에 성공합니다.

```Java
String memberId = "100";
Member member1 = jpa.find(Member.class, memberId);
Member member2 = jpa.find(Member.class, memberId);

member1 == member2; // 동일성 비교 성공
```

### Hibernate

+ Hibernate : ORM 프레임워크(구현체) 입니다.
+ JPA : ORM 기술에 대한 API 표준 명세입니다. 구현이 없는 인터페이스입니다.

![JPA-01.png](/media/posts/2021-06-11---자바-ORM-표준-JPA-프로그래밍-요약/JPA-01.png)

### 성능

JPA는 애플리케이션과 데이터베이스 사이에서 다양한 성능 최적화 기회를 제공합니다.

```Java
String memberId = "helloId";
Member member1 = jpa.find(memberId);
Member member2 = jpa.find(memberId); // 객체를 재사용
```

같은 트랜잭션 안에서 같은 회원을 두 번 조회하는 코드입니다.  
그러므로 JPA에서는 SELECT SQL을 한 번만 DB에 전달하고 두 번째는 조회한 **회원 객체를 재사용**합니다.